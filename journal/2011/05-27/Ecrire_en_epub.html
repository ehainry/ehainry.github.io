<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<title>Comment créer un epub [velsheda]</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="../../css/bootstrap.min.css" rel="stylesheet">
<link href="../../css/plus.css" rel="stylesheet">
<link rel="stylesheet" href="../../css/pygments.css" type="text/css" media="screen, projection" />
<link rel="icon" type="image/png" href="/icon.png" />
<meta name="author" content="EH" />
</head>
<body>
<nav class="navbar navbar-inverse navbar-static-top" role="navigation">
<div class="container">
<div class="navbar-header">
<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#menu-c">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
<a class="navbar-brand" href="/journal/index.html">Velsheda</a>
</div>
<div class="collapse navbar-collapse" id="menu-c">
<ul class="nav navbar-nav">
<li><a href="/journal/archive.html">Archive</a></li>
<li><a href="/journal/categories.html">Categories</a></li>
<li><a href="/journal/about.html">Contact</a></li>
<li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Links</a>
<ul class="dropdown-menu">
	<li><a href="https://bitbucket.org/manu">Bitbucket</a></li>
	<li><a href="http://www.goodreads.com/user/show/2385793">Goodreads</a></li>
	<li><a href="http://last.fm/">Last.fm</a></li>
	<li><a href="https://linuxfr.org/">DLFP</a></li>
</ul></li>
</ul>
</div>
</div>
</nav>
<div class="container-fluid">
<div class="row">
<div class="col-sm-10">
 <h2>Comment créer un epub</h2>
 <!--<span id="tag">fr, ebook, and epub</span>-->
 <span id="tag">
   
   <a href="/journal/categories.html#fr">fr</a>,
   
   <a href="/journal/categories.html#ebook">ebook</a>,
   
   <a href="/journal/categories.html#epub">epub</a>,
   </span>
 <p>Un epub est une archive zip contenant essentiellement des fichiers de contenu html (ou xhtml ou xml), des fichiers de style CSS, éventuellement des images et des polices et des fichiers décrivant l&#8217;ordre, les propriétés des autres (une sorte de table des matières). Sigil est un bon outil pour écrire et modifier un epub sans se poser trop de questions.</p>

<p>Les fichiers html sont écrits de façon classique mais en évitant les informations de forme qui doivent aller dans les css et en maximisant la structuration (un paragraphe est dans un <code>&lt;p&gt;...&lt;/p&gt;</code>, des titres en h1, h2, h3. Donc pour centrer un paragraphe, pour des exergues ou pour les mises en reliefs, il faut mettre le texte dans un <code>div</code> ou un <code>span</code> (ou éventuellement un <code>em</code>) et mettre les règles dans le fichier CSS).</p>

<p>Quelques règles css pour faire un texte qui me plaît :</p>

<p><div class='highlight'><pre><code class='css'><span class='k'>@page</span> <span class='p'>{</span><span class='nt'>margin</span><span class='o'>:</span> <span class='nt'>3mm</span><span class='p'>}</span>
<span class='nt'>p</span> <span class='p'>{</span><span class='k'>text-align</span><span class='o'>:</span> <span class='k'>justify</span><span class='p'>;</span> <span class='k'>margin</span><span class='o'>:</span> <span class='m'>1ex</span> <span class='m'>0</span> <span class='m'>0</span> <span class='m'>0</span><span class='p'>;</span> <span class='k'>line-height</span><span class='o'>:</span> <span class='m'>1</span><span class='o'>.</span><span class='m'>3</span><span class='p'>}</span>
<span class='nt'>p</span><span class='o'>+</span><span class='nt'>p</span> <span class='p'>{</span><span class='k'>text-indent</span><span class='o'>:</span> <span class='m'>2em</span><span class='p'>}</span>
</code></pre>
</div></p>

<p>Le <code>@page</code> s&#8217;applique au contenu paginé et permet de définir le formatage des &#8220;pages&#8221; sur le reader. Ici, j&#8217;ai mis des marges, on peut aussi régler les veuves et orphelins. J&#8217;apprécie que le texte soit justifié, que les paragraphes soient séparés verticalement, que les lignes d&#8217;un paragraphes soient un peu espacées et que les paragraphes qui en suivent un autre soient indentés.</p>

<p>Pour le style des titres de chapitre c&#8217;est plus fluctuant. Je choisis des choses simples. Un peu comme le style Gibson du <a href='http://epubzengarden.com/'>ePub Zen Garden</a>. Ce qui peut donner des choses comme ce qui suit.</p>
<div class='highlight'><pre><code class='html'><span class='nt'>&lt;h3&gt;&lt;span</span> <span class='na'>class=</span><span class='s'>&quot;nchap&quot;</span><span class='nt'>&gt;</span>I<span class='nt'>&lt;/span&gt;</span>
    <span class='nt'>&lt;span</span> <span class='na'>class=</span><span class='s'>&quot;chaptitle&quot;</span><span class='nt'>&gt;</span>Titre de chapitre<span class='nt'>&lt;/span&gt;&lt;/h3&gt;</span>
</code></pre>
</div>
<p>Et dans le css</p>
<div class='highlight'><pre><code class='css'><span class='nt'>h3</span> <span class='p'>{</span><span class='k'>text-align</span><span class='o'>:</span> <span class='k'>center</span><span class='p'>}</span>
<span class='nc'>.nchap</span> <span class='p'>{</span><span class='k'>font-style</span><span class='o'>:</span> <span class='k'>italic</span><span class='p'>}</span>
<span class='nc'>.nchap</span><span class='nd'>:before</span> <span class='p'>{</span><span class='k'>content</span><span class='o'>:</span> <span class='s2'>&quot;Chapitre &quot;</span><span class='p'>;</span> <span class='k'>text-transform</span><span class='o'>:</span> <span class='k'>none</span><span class='p'>;</span> <span class='k'>font-style</span><span class='o'>:</span> <span class='k'>italic</span><span class='p'>}</span>
<span class='nc'>.chaptitle</span> <span class='p'>{</span><span class='k'>display</span><span class='o'>:</span> <span class='k'>block</span><span class='p'>}</span>
</code></pre>
</div>
<p>Pour plus d&#8217;infos, on pourra lire un <a href='http://www.hxa.name/articles/content/epub-guide_hxa7241_2007.html'>guide sur le format epub</a> et par exemple comment mettre un <a href='http://blog.threepress.org/2009/11/20/best-practices-in-epub-cover-images/'>couverture dans un epub</a> (tout le blog est fort intéressant).</p>
<div class="date">Écrit le 27 May 2011 par <a href="https://plus.google.com/103784259248105086753?rel=author">Emmanuel</a></div>
</div>
<div class="col-sm-2">
  <a href="/journal/index.html">Index</a><br />
  Next: <a href="/journal/2011/06-23/Prix_unique.html">Prix du livre</a><br />
  Prev: <a href="/journal/2011/05-08/Livres_numeriques_et_droits_dauteur.html">Livres numériques et droits d'auteur</a><br />
</div>
</div>
</div>
<script src="../../js/jquery.min.js"></script>
<script src="../../js/bootstrap.min.js"></script>
</body>
</html>
